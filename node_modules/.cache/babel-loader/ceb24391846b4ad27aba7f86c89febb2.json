{"ast":null,"code":"const getTeamsInfo = require(\"./team-info\");\n\nconst sportVu = require(\"./sport-vu\");\n\nconst stats = require(\"./stats\");\n\nconst synergy = require(\"./synergy\");\n\nconst data = require(\"./data\");\n\nconst teams = require(\"../data/teams.json\");\n\nconst buildPlayers = require(\"./util/build-players\");\n\nconst players = buildPlayers(require(\"../data/players.json\"));\nconst nba = {\n  // namespaces for NBA API endpoints\n  stats,\n  sportVu,\n  synergy,\n  data,\n  // in-memory data to help with constructing queries\n  players,\n  teams,\n  // helpers for searching in-memory data\n  teamIdFromName,\n  playerIdFromName,\n  findPlayer,\n  searchPlayers,\n  // update in-memory data\n  updatePlayers,\n  updateTeams\n};\n\nfunction teamIdFromName(name) {\n  const n = name.toLowerCase();\n  const team = nba.teams.find(function (t) {\n    return t.abbreviation.toLowerCase() === n || t.location.toLowerCase() === n || t.teamName.toLowerCase() === n || t.simpleName.toLowerCase() === n;\n  });\n  return team ? team.teamId : null;\n}\n\nfunction playerIdFromName(name) {\n  const p = findPlayer(name);\n  return p ? p.playerId : null;\n}\n\nfunction findPlayer(str) {\n  str = str.toLowerCase();\n  return nba.players.find(function (p) {\n    return p.fullName.toLowerCase().includes(str);\n  });\n}\n\nfunction searchPlayers(str) {\n  str = str.toLowerCase();\n  return nba.players.filter(function (p) {\n    return p.fullName.toLowerCase().includes(str);\n  });\n}\n\nfunction updatePlayers() {\n  return nba.stats.playersInfo().then(function (result) {\n    nba.players = buildPlayers(result);\n    return result;\n  });\n}\n\nfunction updateTeams() {\n  return getTeamsInfo().then(function (result) {\n    nba.teams = result;\n    return result;\n  });\n}\n\nmodule.exports = nba;","map":null,"metadata":{},"sourceType":"script"}